{"version":3,"sources":["Components/Header/header.module.scss","redux/authorization/authorization-opetations.js","redux/authorization/authorization-actions.js","Components/Header/hasEntered.module.scss","Components/Preloader/Preloader.module.scss","redux/authorization/authorization-selectors.js","Components/Header/HasEntered.js","Components/Header/Header.js","Components/Preloader/Preloader.js","Components/Route/PrivateRoute.js","Components/Route/PublicRoute.js","App.js","reportWebVitals.js","redux/contact/contact-reducer.js","redux/authorization/authorization-reducer.js","redux/store.js","index.js","redux/contact/contact-action.js"],"names":["module","exports","axios","defaults","baseURL","token","headers","common","Authorization","register","user","dispatch","a","registerReauest","post","data","console","log","registerSuccsess","success","text","response","status","error","registerError","payload","login","loginReauest","loginSuccsess","loginError","logout","logoutRequest","logoutSuccsess","logoutError","getCurrentUser","getState","persistedToken","authorization","getContactsReauest","get","getContactsSuccsess","getContactsError","createAction","authorized","state","getNameAuthorized","name","HasEntered","useSelector","useDispatch","className","style","boxUser","type","onClick","button","Header","approved","BoxLoginRegistration","to","activeClassName","active","LoginRegistration","Preloader","PrivateRoute","children","redirectTo","routeProps","PublicRoute","restricted","PhoneBook","lazy","Registration","Login","App","useEffect","value","fallback","exact","path","class","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","items","createReducer","fetchContactSuccess","_","addContactSuccess","deleteContactSuccess","filter","id","loading","addContactRequest","addContactError","deleteContactRequest","deleteContactError","fetchContactRequest","fetchContactError","filterContact","combineReducers","initialContactState","email","loadingLogReg","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistConfig","key","storage","whitelist","store","configureStore","reducer","contact","contactReducer","persistReducer","authorizationReducer","devTools","process","storePersistor","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f5b331d3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"BoxLoginRegistration\":\"header_BoxLoginRegistration__3dmpx\",\"LoginRegistration\":\"header_LoginRegistration__2WODw\",\"active\":\"header_active__2y_Hh\"};","import axios from \"axios\";\r\nimport {\r\n  registerReauest,\r\n  registerSuccsess,\r\n  registerError,\r\n  loginReauest,\r\n  loginSuccsess,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccsess,\r\n  logoutError,\r\n  getContactsReauest,\r\n  getContactsSuccsess,\r\n  getContactsError,\r\n} from \"./authorization-actions\";\r\nimport \"@pnotify/core/dist/BrightTheme.css\";\r\nimport { success, error } from \"@pnotify/core\";\r\nimport \"@pnotify/core/dist/PNotify.css\";\r\n\r\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n\r\nexport const register = (user) => async (dispatch) => {\r\n  dispatch(registerReauest());\r\n\r\n  try {\r\n    const { data } = await axios.post(\"/users/signup\", user);\r\n    token.set(data.token);\r\n    console.log(data.token);\r\n    dispatch(registerSuccsess(data));\r\n    success({ text: \"Created!\" });\r\n  } catch (errors) {\r\n    if (errors.response.status === 400) {\r\n      error({\r\n        text: \"ERROR, user creation error\",\r\n      });\r\n    } else if (errors.response.status === 500) {\r\n      error({\r\n        text: \"ERROR server\",\r\n      });\r\n    }\r\n    dispatch(registerError(errors.payload));\r\n  }\r\n};\r\n\r\nexport const login = (user) => async (dispatch) => {\r\n  dispatch(loginReauest());\r\n\r\n  try {\r\n    const { data } = await axios.post(\"/users/login\", user);\r\n    token.set(data.token);\r\n    dispatch(loginSuccsess(data));\r\n    success({ text: \"Success!\" });\r\n  } catch (errors) {\r\n    error({\r\n      text: \"ERROR, wrong login or password\",\r\n    });\r\n\r\n    dispatch(loginError(errors.payload));\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  dispatch(logoutRequest());\r\n\r\n  try {\r\n    await axios.post(\"/users/logout\");\r\n\r\n    token.unset();\r\n\r\n    dispatch(logoutSuccsess());\r\n  } catch (errors) {\r\n    error({\r\n      text: \"ERROR, failed to exit\",\r\n    });\r\n\r\n    dispatch(logoutError(errors.payload));\r\n  }\r\n};\r\n\r\nexport const getCurrentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    authorization: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n\r\n  dispatch(getContactsReauest());\r\n\r\n  try {\r\n    token.set(persistedToken);\r\n    const { data } = await axios.get(\"/users/current\");\r\n\r\n    dispatch(getContactsSuccsess(data));\r\n  } catch (errors) {\r\n    error({\r\n      text: \"ERROR, the request failed\",\r\n    });\r\n    dispatch(getContactsError(errors.payload));\r\n  }\r\n};\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const registerReauest = createAction(\"/authorization/registerReauest\");\r\nexport const registerSuccsess = createAction(\"/authorization/registerSuccsess\");\r\nexport const registerError = createAction(\"/authorization/registerError\");\r\n\r\nexport const loginReauest = createAction(\"/authorization/loginReauest\");\r\nexport const loginSuccsess = createAction(\"/authorization/loginSuccsess\");\r\nexport const loginError = createAction(\"/authorization/loginError\");\r\n\r\nexport const logoutRequest = createAction(\"/authorization/logoutReauest\");\r\nexport const logoutSuccsess = createAction(\"/authorization/logoutSuccsess\");\r\nexport const logoutError = createAction(\"/authorization/logoutError\");\r\n\r\nexport const getContactsReauest = createAction(\r\n  \"/authorization/getContactsReauest\"\r\n);\r\nexport const getContactsSuccsess = createAction(\r\n  \"/authorization/getContactsSuccsess\"\r\n);\r\nexport const getContactsError = createAction(\"/authorization/getContactsError\");\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"boxUser\":\"hasEntered_boxUser__2UCPY\",\"name\":\"hasEntered_name__Pft5p\",\"button\":\"hasEntered_button__29_yV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Preloader\":\"Preloader_Preloader__1sMMz\"};","export const authorized = (state) => state.authorization.authorization;\r\nexport const getNameAuthorized = (state) => state.authorization.user.name;\r\nexport const loading = (state) => state.contact.loading;\r\n","import { getNameAuthorized } from \"../../redux/authorization/authorization-selectors\";\r\nimport { logout } from \"../../redux/authorization/authorization-opetations\";\r\nimport style from \"./hasEntered.module.scss\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nconst HasEntered = () => {\r\n  const name = useSelector(getNameAuthorized);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const logOutUser = () => dispatch(logout());\r\n\r\n  return (\r\n    <div className={style.boxUser}>\r\n      <h3 className={style.name}>{name}</h3>\r\n      <button type=\"button\" onClick={logOutUser} className={style.button}>\r\n        logout\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HasEntered;\r\n","import HasEntered from \"./HasEntered\";\r\nimport { authorized } from \"../../redux/authorization/authorization-selectors\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport style from \"./header.module.scss\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Header = () => {\r\n  const approved = useSelector(authorized);\r\n\r\n  return (\r\n    <>\r\n      {approved ? (\r\n        <HasEntered />\r\n      ) : (\r\n        <ul className={style.BoxLoginRegistration}>\r\n          <li>\r\n            <NavLink\r\n              to={\"/Registration\"}\r\n              activeClassName={style.active}\r\n              className={style.LoginRegistration}\r\n            >\r\n              Registration\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink\r\n              to={\"/Login\"}\r\n              activeClassName={style.active}\r\n              className={style.LoginRegistration}\r\n            >\r\n              sing in\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import style from \"./Preloader.module.scss\";\r\n\r\nexport const Preloader = () => {\r\n  return (\r\n    <div className={style.Preloader}>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  );\r\n};\r\n","import { Redirect, Route } from \"react-router-dom\";\r\nimport { authorized } from \"../../redux/authorization/authorization-selectors\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst PrivateRoute = ({ children, redirectTo, ...routeProps }) => {\r\n  const approved = useSelector(authorized);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {approved ? children : <Redirect to={redirectTo} />}\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import { Redirect, Route } from \"react-router-dom\";\r\nimport { authorized } from \"../../redux/authorization/authorization-selectors\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst PublicRoute = ({ redirectTo, children, ...routeProps }) => {\r\n  const approved = useSelector(authorized);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {approved && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        children\r\n      )}\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default PublicRoute;\r\n","import \"./App.css\";\r\nimport Header from \"./Components/Header/Header\";\r\nimport { Preloader } from \"./Components/Preloader/\";\r\nimport { getCurrentUser } from \"./redux/authorization/authorization-opetations\";\r\nimport PrivateRoute from \"./Components/Route/PrivateRoute\";\r\nimport PublicRoute from \"./Components/Route/PublicRoute\";\r\nimport { useEffect, lazy, Suspense } from \"react\";\r\nimport { Switch } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst PhoneBook = lazy(\r\n  () => import(\"./Components/PhoneBook\") /* webpackChunkName: \"PhoneBook\" */\r\n);\r\n\r\nconst Registration = lazy(() =>\r\n  import(\r\n    \"./Components/Route/Registration\" /* webpackChunkName: \"Registration\" */\r\n  )\r\n);\r\n\r\nconst Login = lazy(() =>\r\n  import(\"./Components/Route/Login\" /* webpackChunkName: \"Login\" */)\r\n);\r\nconst App = () => {\r\n  const dispatch = useDispatch();\r\n  const onGetCurrentUser = (value) => dispatch(getCurrentUser(value));\r\n\r\n  useEffect(() => onGetCurrentUser(), []);\r\n  // useCallback(useEffect(() => onGetCurrentUser(), [onGetCurrentUser()]));\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n\r\n      <Suspense fallback={<Preloader />}>\r\n        <Switch>\r\n          <PrivateRoute exact path=\"/\" redirectTo=\"/Login\">\r\n            <PhoneBook />\r\n          </PrivateRoute>\r\n\r\n          <PublicRoute class path=\"/Registration\" redirectTo=\"/\" restricted>\r\n            <Registration />\r\n          </PublicRoute>\r\n\r\n          <PublicRoute path=\"/Login\" redirectTo=\"/\" restricted>\r\n            <Login />\r\n          </PublicRoute>\r\n        </Switch>\r\n      </Suspense>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  filterContact,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  fetchContactRequest,\r\n  fetchContactSuccess,\r\n  fetchContactError,\r\n} from \"../../redux/contact/contact-action\";\r\n\r\nconst items = createReducer([], {\r\n  [fetchContactSuccess]: (_, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\r\n  [deleteContactSuccess]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n  [fetchContactRequest]: () => true,\r\n  [fetchContactSuccess]: () => false,\r\n  [fetchContactError]: () => false,\r\n});\r\n\r\nconst filter = createReducer(\"\", {\r\n  [filterContact]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  loading,\r\n});\r\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport {\r\n  registerReauest,\r\n  registerSuccsess,\r\n  registerError,\r\n  loginReauest,\r\n  loginSuccsess,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccsess,\r\n  logoutError,\r\n  getContactsReauest,\r\n  getContactsSuccsess,\r\n  getContactsError,\r\n} from \"./authorization-actions\";\r\nconst initialContactState = { name: null, email: null };\r\n\r\nconst user = createReducer(initialContactState, {\r\n  [registerSuccsess]: (_, { payload }) => payload.user,\r\n  [loginSuccsess]: (_, { payload }) => payload.user,\r\n  [logoutSuccsess]: () => initialContactState,\r\n  [getContactsSuccsess]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [registerSuccsess]: (_, { payload }) => payload.token,\r\n  [loginSuccsess]: (_, { payload }) => payload.token,\r\n  [logoutSuccsess]: () => null,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [registerError]: (_, { payload }) => payload,\r\n  [loginError]: (_, { payload }) => payload,\r\n  [logoutError]: (_, { payload }) => payload,\r\n  [getContactsError]: (_, { payload }) => payload,\r\n});\r\n\r\nconst authorization = createReducer(false, {\r\n  [registerSuccsess]: () => true,\r\n  [loginSuccsess]: () => true,\r\n  [getContactsSuccsess]: () => true,\r\n  [logoutSuccsess]: () => false,\r\n  [registerError]: () => false,\r\n  [loginError]: () => false,\r\n  [logoutError]: () => false,\r\n  [getContactsError]: () => false,\r\n});\r\n\r\nconst loadingLogReg = createReducer(false, {\r\n  [registerReauest]: () => true,\r\n  [registerSuccsess]: () => false,\r\n  [registerError]: () => false,\r\n  [loginReauest]: () => true,\r\n  [loginSuccsess]: () => false,\r\n  [loginError]: () => false,\r\n  [logoutRequest]: () => true,\r\n  [logoutSuccsess]: () => false,\r\n  [logoutError]: () => false,\r\n  [getContactsReauest]: () => true,\r\n  [getContactsSuccsess]: () => false,\r\n  [getContactsError]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n  loadingLogReg,\r\n  authorization,\r\n  user,\r\n  token,\r\n  error,\r\n});\r\n","import contactReducer from \"./contact/contact-reducer\";\r\nimport authorizationReducer from \"./authorization/authorization-reducer\";\r\nimport { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n];\r\n\r\nconst persistConfig = {\r\n  key: \"token\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    contact: contactReducer,\r\n    authorization: persistReducer(persistConfig, authorizationReducer),\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === \"development\",\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nconst storePersistor = { store, persistor };\r\n\r\nexport default storePersistor;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { Provider } from \"react-redux\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport store from \"./redux/store\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <Provider store={store.store}>\r\n        <PersistGate loading={null} persistor={store.persistor}>\r\n          <App />\r\n        </PersistGate>\r\n      </Provider>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const fetchContactRequest = createAction(\"fetchContactRequest\");\r\nexport const fetchContactSuccess = createAction(\"fetchContactSuccess\");\r\nexport const fetchContactError = createAction(\"fetchContactError\");\r\n\r\nexport const addContactRequest = createAction(\"addContactRequest\");\r\nexport const addContactSuccess = createAction(\"addContactSuccess\");\r\nexport const addContactError = createAction(\"addContactError\");\r\n\r\nexport const deleteContactRequest = createAction(\"deleteContactRequest\");\r\nexport const deleteContactSuccess = createAction(\"deleteContactSuccess\");\r\nexport const deleteContactError = createAction(\"deleteContactError\");\r\n\r\nexport const filterContactRequest = createAction(\"filterContactRequest\");\r\nexport const filterContactSuccess = createAction(\"filterContactSuccess\");\r\nexport const filterContactError = createAction(\"filterContactError\");\r\n\r\nexport const filterContact = createAction(\"filterContact\");\r\n"],"sourceRoot":""}